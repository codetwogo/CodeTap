<html>
    <head>
    </head>
    <body>
        <script>
            document.addEventListener("message", function(data) {
                var dataObj = JSON.parse(data.data);
                //window.postMessage(dataObj.func);
                var result;
                var callFunc;
                var test;
                eval(`callFunc = ${dataObj.func}`);
                try {
                    //window.postMessage(callFunc);
                    test = eval(callFunc.apply(this, dataObj.args));
                    //test = eval(test())
                } catch (e) {
                    window.postMessage(e.toString());
                }

                // **** check if test is undefined because postmessage only sends strings!!!!!
                if (test == undefined) {
                    window.postMessage('Undefined!!!');
                }
                window.postMessage(test.toString());
            })
        </script>
    </body>
</html>